
notify: True
notify_email: pebert@mpi-inf.mpg.de

script_dir: /home/pebert/work/code/github/project-diploid-assembly/scripts

data_sources: /home/pebert/work/code/github/project-diploid-assembly/annotation/input_data_sources.json
reference_sources: /home/pebert/work/code/github/project-diploid-assembly/annotation/reference_data_sources.json

ref_cache_folder: references/cache

# === Software setup settings ===
# Specify git commits for SaaRclust
# and StrandPhaseR setup
git_commit_saarclust: 3bb6bc0
git_commit_strandphaser: e8913f3
# arbitrarily tying a version number
# to the git commits to avoid additional
# wildcards - increment this number when
# git commits are changed!
git_commit_version: 3

# YAML Conda environments can only be used
# if the Conda installations lives on the same
# file system as the Snakemake working
# directory (where the Snakemake-internal
# Conda envs will be created)
# see: bitbucket.org/snakemake/snakemake/issues/1266/add-copy-option-for-conda-env
# Replace .txt with .yml depending on system
conda_env_pbtools: "../environment/conda/conda_pbtools.yml"
conda_env_whsplit: "../environment/conda/wh_split.yml"

num_cpu_high: 48
num_cpu_medium: 12
num_cpu_low: 6

# System-specific binaries for tools requiring certain
# CPU instruction sets - otherwise, just give name of
# tool to be found in $PATH
# racon_binary w/o AVX: /home/pebert/work/code/github/external/racon/build/bin/racon_wrapper
racon_binary: racon


samples:
  - HG00733_hpg_ontpm-ul
  - HG00733_sra_pbsq1-clr
  - HG00733_hgsvc_pbsq2-ccs
  - HG00732_hgsvc_pbsq2-ccs
  - HG00731_hgsvc_pbsq2-ccs

individuals:
  - HG00733
  - HG00732
  - HG00731
  - HG002

# needed for wildcard constraints
# to manage download and merging
# of initial input data
complete_samples:
  - HG00733_sra_pbsq1-clr

partial_samples:
  - HG00733_hpg_ontpm-ul
  - HG00733_hgsvc_pbsq2-ccs
  - HG00732_hgsvc_pbsq2-ccs
  - HG00731_hgsvc_pbsq2-ccs

strandseq_samples:
  - HG00733_1kg_il25k-npe
  - HG00732_1kg_il25k-npe
  - HG00731_1kg_il25k-npe

# This is evidence of a design glitch:
# here, manually associate strand-seq
# datasets with long read datasets
# for the SaaRclust step to avoid
# having to carry around the sts_reads
# wildcard for clustered assemblies
# throughout the rest of the pipeline
strandseq_to_assembly:
  HG00733_sra_pbsq1-clr: HG00733_1kg_il25k-npe_sseg
  HG00731_hgsvc_pbsq2-ccs: HG00731_1kg_il25k-npe_sseg
  HG00732_hgsvc_pbsq2-ccs: HG00732_1kg_il25k-npe_sseg
  HG00733_hgsvc_pbsq2-ccs: HG00733_1kg_il25k-npe_sseg

strandseq_to_bioproject:
  HG00733_1kg_il25k-npe: PRJEB12849
  HG00732_1kg_il25k-npe: PRJEB12849
  HG00731_1kg_il25k-npe: PRJEB12849

# SaaRclust parameter sets
# to obtain 24 clusters
min_contig_size: 100000

saarclust_z_limit:
  HG00733_sra_pbsq1-clr_sqa: 3.5
  HG00731_hgsvc_pbsq2-ccs_sqa: 3
  HG00732_hgsvc_pbsq2-ccs_sqa: 3
  HG00733_hgsvc_pbsq2-ccs_sqa: 3.5

saarclust_step_size:
  HG00733_sra_pbsq1-clr_sqa: 0
  HG00731_hgsvc_pbsq2-ccs_sqa: 50000
  HG00732_hgsvc_pbsq2-ccs_sqa: 50000
  HG00733_hgsvc_pbsq2-ccs_sqa: 0

# === Parameter presets for alignment tools ===
wtdbg2_presets:
  HG00733_hpg_ontpm-ul: ont
  HG00733_sra_pbsq1-clr: sq
  HG00733_hgsvc_pbsq2-ccs: ccs
  HG00732_hgsvc_pbsq2-ccs: ccs
  HG00731_hgsvc_pbsq2-ccs: ccs

pbmm2_presets:
  HG00733_sra_pbsq1-clr: SUBREAD
  HG00733_hgsvc_pbsq2-ccs: CCS
  HG00732_hgsvc_pbsq2-ccs: CCS
  HG00731_hgsvc_pbsq2-ccs: CCS
  HG002_pbio_pbsq2-clr: SUBREAD

# VARIANT CALLING
# Postprocessing parameters
filter_vcf_gq:
  freebayes: 100

filter_vcf_dp:
  freebayes: 50

freebayes_timeout_sec: 3600

# main chromosomes to be used
# for known references for main
# pipeline steps (i.e., everything
# before evaluation)
main_chromosomes:
  - chr1
  - chr2
  - chr3
  - chr4
  - chr5
  - chr6
  - chr7
  - chr8
  - chr9
  - chr10
  - chr11
  - chr12
  - chr13
  - chr14
  - chr15
  - chr16
  - chr17
  - chr18
  - chr19
  - chr20
  - chr21
  - chr22
  - chrX
  - chrY

#ref_variants:
#  giab:
#    - record:
#        skip: 0
#        url: ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/release/AshkenazimTrio/HG002_NA24385_son/latest/GRCh38/HG002_GRCh38_GIAB_highconf_CG-Illfb-IllsentieonHC-Ion-10XsentieonHC-SOLIDgatkHC_CHROM1-22_v.3.3.2_highconf_triophased.vcf.gz
#        name: GRCh38_AJ-HG002_triophased-high-conf.vcf.gz
#        path: references/variant_call_sets/family_individuals/AJ
#    - record:
#        skip: 0
#        url: ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/release/AshkenazimTrio/HG002_NA24385_son/latest/GRCh38/HG002_GRCh38_GIAB_highconf_CG-Illfb-IllsentieonHC-Ion-10XsentieonHC-SOLIDgatkHC_CHROM1-22_v.3.3.2_highconf_triophased.vcf.gz.tbi
#        name: GRCh38_AJ-HG002_triophased-high-conf.vcf.gz.tbi
#        path: references/variant_call_sets/family_individuals/AJ
#    - record:
#        skip: 0
#        url: ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/release/AshkenazimTrio/HG002_NA24385_son/latest/GRCh38/supplementaryFiles/HG002_GRCh38_GIAB_highconf_CG-Illfb-IllsentieonHC-Ion-10XsentieonHC-SOLIDgatkHC_CHROM1-22_v.3.3.2_highconf.bed
#        name: GRCh38_AJ-HG002_high-conf-regions.bed
#        path: references/variant_regions/AJ
#
#
#flye_presets:
#  HG00514.sequel2.pb-ccs: pacbio-corr
#  HG00514.sequel2.pb-clr: pacbio-raw
#  HG00514.sequel2.pb-clr-25: pacbio-raw
#
#
#read_files:
#  ucsc1:
#    fileN:
#      skip: 0
#      range: 1354
#      url: https://miten-giab-pion-data.s3-us-west-2.amazonaws.com/10_10_18_pION_GM24385_NB_SS/basecalled/GM24385NBMR101018/1-A7-D7/fastq_{FILENUM}.fastq
#      name: HG002.ucsc1.ont-ul.chunk.{FILENUM}
#  pangen:
#    file1:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/GM24385/nanopore/GM24385_1.fastq.gz
#      name: HG002.pangen.ont-ul.part.1
#    file2:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/GM24385/nanopore/GM24385_2.fastq.gz
#      name: HG002.pangen.ont-ul.part.2
#    file3:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/GM24385/nanopore/GM24385_3.fastq.gz
#      name: HG002.pangen.ont-ul.part.3
#    file4:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/HG00733/nanopore/HG00733_1.fastq.gz
#      name: HG00733.pangen.ont-ul.part.1
#    file5:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/HG00733/nanopore/HG00733_2.fastq.gz
#      name: HG00733.pangen.ont-ul.part.2
#    file6:
#      skip: 0
#      url: https://s3-us-west-2.amazonaws.com/human-pangenomics/HG00733/nanopore/HG00733_3.fastq.gz
#      name: HG00733.pangen.ont-ul.part.3
#  giab:
#    file1:
#      skip: 1
#      url: ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/data/AshkenazimTrio/HG002_NA24385_son/Ultralong_OxfordNanopore/combined_2018-05-18/combined_2018-05-18.fastq.gz
#      name: HG002.giab.ont-ul.part.1805
#      comment: "outdated"
#    file2:
#      skip: 1
#      url: ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/data/AshkenazimTrio/HG002_NA24385_son/Ultralong_OxfordNanopore/combined_2018-08-10/combined_2018-08-10.fastq.gz
#      name: HG002.giab.ont-ul.part.1808
#      comment: "outdated"
#    file3:
#      skip: 1
#      url: https://miten-giab-pion-data.s3-us-west-2.amazonaws.com/2019-02-13_albacore.fastq
#      name: HG002.giab.ont-ul.corrupt
#      comment: "contains invalid read records - probably merge error"
#    file4:
#      skip: 1
#      url: https://storage.googleapis.com/kishwar-friday-data/Nanopore/HG002_04202019/GM24385_HG002_Nanopore_0420_miten_fixed.fastq.gz
#      name: HG002.giab.ont-ul.cmp
#      comment: "erroneously corrected (?) and merged data of HG002 PanGen - exact duplicate"
